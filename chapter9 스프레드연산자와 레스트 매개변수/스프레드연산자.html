<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 스프레드 문법을 사용하면 0개 이상의 인수(함수 호출용) 또는 원소(배열 리터럴용)가 예상되는 위치에서
        // 배열 표현식 또는 문자열과 같은 이터러블 항목을 확장하거나 0개 이상의 키/값 쌍(객체 리터럴용)이
        // 예상되는 위치에서 객체 표현식을 확장할 수 있다.

        // 배열의 결합
        // const veggie = ['tomato', 'cucumber', 'beans'];
        // const meat = ['pork', 'beef', 'chicken'];
        // const menu = [...veggie, 'pasta', ...meat];

        // console.log(menu);
        // 0: "tomato"
        // 1: "cucumber"
        // 2: "beans"
        // 3: "pasta"
        // 4: "pork"
        // 5: "beef"
        // 6: "chicken"

        // ...이 바로 스프레드 문법으로, veggie와 meat 배열의 모든 개별 원소를 풀어서 menu 배열에 넣었다.
        // 동시에 'pasta'라는 새 항목을 추가했다.


        // 배열의 복사
        // 스프레드 문법은 배열의 복사본을 생성할 때 매우 유용하다.
        // const veggie = ['tomato', 'cucumber', 'beans'];
        // const newVeggie = veggie;

        // veggie.push('peas');
        // console.log(veggie);
        // 0: "tomato"
        // 1: "cucumber"
        // 2: "beans"
        // 3: "peas"
        // console.log(newVeggie);
        // 0: "tomato"
        // 1: "cucumber"
        // 2: "beans"
        // 3: "peas"

        // 실제로 복사본을 만든 것이 아니라, 새 배열은 단순히 이전 배열을 참조하기 때문이다.

        // 스프레드 문법을 사용하여 배열의 복사본 만들기
        const veggie = ['tomato', 'cucumber', 'beans'];
        const newVeggie = [...veggie];
        veggie.push('peas');
        console.log(veggie);
        // 0: "tomato"
        // 1: "cucumber"
        // 2: "beans"
        // 3: "peas"
        console.log(newVeggie);
        // 0: "tomato"
        // 1: "cucumber"
        // 2: "beans"
       
        // 변수 newVeggie를 배열 veggie 복사본으로 만들기 위해, 우선 newVeggie에 배열을 할당하고 
        // 그 내부에 스프레드 연산자를 통해 veggie 변수의 모든 원소를 넣었다.


        // 함수와 스프레드 연산자
        // 인수들을 원소로 가지는 배열에 스프레도 연산자를 사용하면 함수를 쉽게 호출할 수 있다.
        
        // 기존방식
        function doStuff (x, y, z) {
            console.log(x + y + z);
            // 3
        }

        var args = [0,1,2];

        // 함수 호출 인수 전달
        doStuff.apply(null, args);

        // 스프레드 문법 사용
        doStuff(...args);
        // 3
        console.log(args);
        // (3) [0, 1, 2]

        // doStuff 함수는 3개의 매개변수를 받는다.
        // doStuff 함수를 호출할 때 args 배열을 ...args 와 같이 써서 스프레드 연산자와 함께 함수에 전달할 수 있다.
        // 이렇게 하면 굳이 .apply() 사용에 의존하지 않아도 된다.

        // const name = ['alberto', 'montalesi'];

        // function greet(first, last) {
        //     console.log(`hello ${first} ${last}`);
        // }

        // greet(...name);
        // hello alberto montalesi

        // 배열의 두 값은 함수의 두 인수에 자동으로 할당된다.
        // 지정된 인수보다 더 많은 값을 제공하면 어떻게 될까?

        const name = ['Jon', 'Paul', 'Jones'];

        function greet(first, last) {
            console.log(`hello ${first} ${last}`);
        }

        greet(...name);
        // hello Jon Paul

        // 배열 내에서 세 개의 값을 제공했지만 함수에는 두 개의 인수만 있으므로 마지막 인수는 제외된다.


        // 객체 리터럴과 스프레드(ES2018)
        let person = {
            name : 'alberto',
            surname : 'montalesi',
            age : 25
        }

        let clone = {...person};
        console.log(clone);
        // {name: 'alberto', surname: 'montalesi', age: 25}

        
    </script>
</body>
</html>